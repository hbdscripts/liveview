# Shopify app (fill after creating app in Partner/custom app)
SHOPIFY_API_KEY=
SHOPIFY_API_SECRET=
SHOPIFY_APP_URL=https://your-app-url.com
SHOPIFY_SCOPES=read_products,read_orders

# Ingestion: secret for pixel -> POST /api/ingest (run: npm run generate-ingest-secret)
INGEST_SECRET=

# Admin display
ADMIN_TIMEZONE=Europe/London

# Time windows (minutes except where noted)
ACTIVE_WINDOW_MINUTES=5
RECENT_WINDOW_MINUTES=15
SESSION_TTL_MINUTES=60
ABANDONED_WINDOW_MINUTES=15
ABANDONED_RETENTION_HOURS=24
RETURNING_GAP_MINUTES=30
CHECKOUT_STARTED_WINDOW_MINUTES=15

# DB: leave empty for SQLite (file in project root); set for Postgres
DB_URL=

# Tracking kill switch default (DB setting overrides at runtime)
TRACKING_DEFAULT_ENABLED=true

# Limits
MAX_EVENTS_PER_SESSION=50
MAX_EVENT_PAYLOAD_BYTES=8192
RATE_LIMIT_EVENTS_PER_MINUTE=120

# Sentry (optional): DSN from Sentry project settings -> Client Keys (DSN)
# Leave empty to disable error tracking
SENTRY_DSN=

# Dashboard access (optional): secret for viewing stats on Railway URL directly (never in frontend source)
# If set, stats are only visible when: (a) opened from Shopify admin URL below, or (b) after signing in at /app/login
# Leave empty to keep dashboard public
DASHBOARD_SECRET=

# Restrict "from Shopify admin" to this store only (e.g. https://admin.shopify.com/store/943925-c1)
# Leave empty to allow any admin.shopify.com or *.myshopify.com/admin
ALLOWED_ADMIN_REFERER_PREFIX=

# Login with Google (optional): create OAuth client at https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
# Comma-separated emails allowed to sign in (e.g. you@example.com). Empty = allow any Google account.
ALLOWED_GOOGLE_EMAILS=

# Login with Shopify (optional): allowed store domain for direct dashboard login (e.g. mystore.myshopify.com)
ALLOWED_SHOP_DOMAIN=

# Optional: secret to sign OAuth session cookie (defaults to DASHBOARD_SECRET)
# OAUTH_COOKIE_SECRET=
